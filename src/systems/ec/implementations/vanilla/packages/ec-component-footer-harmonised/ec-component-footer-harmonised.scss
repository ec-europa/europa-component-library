/**
 * Footer Harmonised component
 * @define footer-harmonised
 */

// Import base
@import '@ecl/ec-base/ec-base';

// Check if overridden dependencies are already loaded, if needed
@include check-imports(('ec-layout-grid', 'ec-component-link'));

@mixin ecl-footer-harmonised($column-gap: $ecl-grid-gutter-width) {
  /*
   * Global rules
   */
  .ecl-footer-harmonised {
    margin: 0;
    padding-bottom: $ecl-spacing-xl;
  }

  .ecl-footer-harmonised__container {
    display: flex;
    flex-direction: column;
  }

  .ecl-footer-harmonised__section {
    font: $ecl-font-m;
    margin-top: $ecl-spacing-l;

    &:first-of-type {
      margin-top: $ecl-spacing-xl;
    }

    &:empty {
      margin-top: 0;
    }

    > :first-child {
      margin-top: 0;
    }
  }

  .ecl-footer-harmonised__section--separator {
    border-bottom: 1px solid transparent;
    padding-bottom: $ecl-spacing-l;
  }

  .ecl-footer-harmonised__title,
  .ecl-footer-harmonised__title:hover,
  .ecl-footer-harmonised__title:focus,
  .ecl-footer-harmonised__title:active {
    font: $ecl-font-m;
    font-weight: $ecl-font-weight-bold;
  }

  .ecl-footer-harmonised__title--separator {
    border-bottom: 1px solid transparent;
    padding-bottom: $ecl-spacing-xs;
  }

  .ecl-footer-harmonised__description {
    font: $ecl-font-prolonged-s;
    margin-top: $ecl-spacing-xs;
  }

  .ecl-footer-harmonised__content {
    font: $ecl-font-s;
    margin-top: $ecl-spacing-xs;
  }

  .ecl-footer-harmonised__list {
    list-style: none;
    margin-bottom: 0;
    margin-top: $ecl-spacing-xs;
    padding-left: 0;
  }

  .ecl-footer-harmonised__list-item {
    margin-top: $ecl-spacing-m;

    .ecl-footer-harmonised__list--condensed & {
      margin-top: $ecl-spacing-xs;
    }

    &:first-of-type {
      margin-top: 0;
    }
  }

  .ecl-footer-harmonised__list--inline {
    display: inline-flex;
    flex-wrap: wrap;

    .ecl-footer-harmonised__list-item {
      margin-right: $ecl-spacing-l;
      margin-top: 0;

      /* stylelint-disable-next-line max-nesting-depth */
      &:last-of-type {
        margin-right: 0;
      }
    }
  }

  .ecl-footer-harmonised__link {
    font: $ecl-font-s;
  }

  /* stylelint-disable-next-line order/order */
  @include ecl-media-breakpoint-up('md') {
    .ecl-footer-harmonised__section {
      margin-top: $ecl-spacing-xl;

      &:empty {
        margin-top: 0;
      }
    }

    .ecl-footer-harmonised__section--separator {
      border-bottom-width: 2px;
      padding-bottom: $ecl-spacing-xl;
    }

    .ecl-footer-harmonised__title,
    .ecl-footer-harmonised__title:hover,
    .ecl-footer-harmonised__title:focus,
    .ecl-footer-harmonised__title:active {
      font: $ecl-font-prolonged-m;
      font-weight: $ecl-font-weight-bold;
    }

    .ecl-footer-harmonised__title--separator {
      border-bottom-width: 2px;
    }

    .ecl-footer-harmonised__description {
      margin-top: $ecl-spacing-xl;
    }

    .ecl-footer-harmonised__list--columns {
      column-count: 2;
      column-gap: $column-gap;
    }

    .ecl-footer-harmonised__link {
      font: $ecl-font-prolonged-s;
    }
  }
}

/* Group 1 */
@mixin ecl-footer-harmonised-group1(
  $bg-color: $ecl-color-blue,
  $separator-color: $ecl-color-blue-50,
  $text-color: $ecl-color-white,
  $description-color: $ecl-color-blue-25,
  $column-gap: $ecl-grid-gutter-width
) {
  /*
   * Global rules
   */
  .ecl-footer-harmonised--group1 {
    background-color: $bg-color;
    color: $text-color;

    .ecl-footer-harmonised__section--separator {
      border-bottom-color: $separator-color;
    }

    .ecl-footer-harmonised__title,
    .ecl-footer-harmonised__title:hover,
    .ecl-footer-harmonised__title:focus,
    .ecl-footer-harmonised__title:active {
      color: $text-color;
    }

    .ecl-footer-harmonised__title--separator {
      border-bottom-color: $separator-color;
    }

    .ecl-footer-harmonised__description,
    .ecl-footer-harmonised__content {
      color: $description-color;
    }

    .ecl-footer-harmonised__link,
    .ecl-footer-harmonised__link:hover,
    .ecl-footer-harmonised__link:active,
    .ecl-footer-harmonised__link:focus {
      color: $text-color;
    }

    /*
     * Section related rules
     */
    .ecl-footer-harmonised__section1,
    .ecl-footer-harmonised__section2 {
      order: 1;
    }

    .ecl-footer-harmonised__section3 {
      order: 3;
    }

    .ecl-footer-harmonised__section4 {
      order: 2;
    }

    .ecl-footer-harmonised__section5,
    .ecl-footer-harmonised__section6,
    .ecl-footer-harmonised__section7,
    .ecl-footer-harmonised__section8,
    .ecl-footer-harmonised__section9 {
      order: 4;
    }

    .ecl-footer-harmonised__section6 {
      border-bottom: 1px solid $separator-color;
      border-top: 1px solid $separator-color;
      padding-bottom: $ecl-spacing-m;
      padding-top: $ecl-spacing-m;

      /* stylelint-disable-next-line max-nesting-depth */
      &:empty {
        border-top-width: 0;
      }
    }

    .ecl-footer-harmonised__section8,
    .ecl-footer-harmonised__section9 {
      margin-top: $ecl-spacing-m;
    }

    /* stylelint-disable-next-line order/order */
    @include ecl-media-breakpoint-up('md') {
      /* Grid layout */
      .ecl-footer-harmonised__container {
        column-gap: $column-gap;
        display: grid;
        grid-gap: 0 $column-gap;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(4, minmax(min-content, max-content));
        row-gap: 0;
      }

      .ecl-footer-harmonised__section1 {
        grid-area: 1 / 1 / 3 / 2;
      }

      .ecl-footer-harmonised__section2 {
        grid-area: 1 / 2 / 2 / 3;
      }

      .ecl-footer-harmonised__section3 {
        grid-area: 1 / 3 / 2 / 4;
      }

      .ecl-footer-harmonised__section4 {
        grid-area: 2 / 2 / 3 / 3;
      }

      .ecl-footer-harmonised__section5 {
        grid-area: 2 / 3 / 3 / 4;
      }

      .ecl-footer-harmonised__section6 {
        border-bottom-width: 2px;
        border-top-width: 2px;
        grid-area: 3 / 1 / 4 / 4;

        &:empty {
          border-top-width: 0;
        }
      }

      .ecl-footer-harmonised__section7 {
        grid-area: 4 / 1 / 5 / 2;
      }

      .ecl-footer-harmonised__section8 {
        grid-area: 4 / 2 / 5 / 3;
        margin-top: $ecl-spacing-xl;
      }

      .ecl-footer-harmonised__section9 {
        grid-area: 4 / 3 / 5 / 4;
        margin-top: $ecl-spacing-xl;
      }
    }
  }
}

/* Group 2 */
@mixin ecl-footer-harmonised-group2(
  $bg-color: $ecl-color-grey-5,
  $separator-color: $ecl-color-blue,
  $text-color: $ecl-color-blue,
  $description-color: $ecl-color-blue,
  $column-gap: $ecl-grid-gutter-width
) {
  /*
   * Global rules
   */
  .ecl-footer-harmonised--group2 {
    background-color: $bg-color;
    color: $text-color;

    .ecl-footer-harmonised__section--separator {
      border-bottom-color: $separator-color;
    }

    .ecl-footer-harmonised__title,
    .ecl-footer-harmonised__title:hover,
    .ecl-footer-harmonised__title:focus,
    .ecl-footer-harmonised__title:active {
      color: $text-color;
    }

    .ecl-footer-harmonised__title--separator {
      border-bottom-color: $separator-color;
    }

    .ecl-footer-harmonised__description,
    .ecl-footer-harmonised__content {
      color: $description-color;
    }

    .ecl-footer-harmonised__link,
    .ecl-footer-harmonised__link:hover,
    .ecl-footer-harmonised__link:active,
    .ecl-footer-harmonised__link:focus {
      color: $text-color;
    }

    /*
    * Section related rules
    */
    .ecl-footer-harmonised__section1 {
      margin-top: $ecl-spacing-l;
    }
    .ecl-footer-harmonised__section2,
    .ecl-footer-harmonised__section3 {
      margin-top: $ecl-spacing-m;
    }

    /* stylelint-disable-next-line order/order */
    @include ecl-media-breakpoint-up('md') {
      /* Grid layout */
      .ecl-footer-harmonised__container {
        column-gap: $column-gap;
        display: grid;
        grid-gap: 0 $column-gap;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(1, minmax(min-content, max-content));
        row-gap: 0;
      }

      .ecl-footer-harmonised__section1 {
        grid-area: 1 / 1 / 2 / 2;
        margin-top: $ecl-spacing-xl;
      }

      .ecl-footer-harmonised__section2 {
        grid-area: 1 / 2 / 2 / 3;
        margin-top: $ecl-spacing-xl;
      }

      .ecl-footer-harmonised__section3 {
        grid-area: 1 / 3 / 2 / 4;
        margin-top: $ecl-spacing-xl;
      }
    }
  }
}

/* Group 3 */
@mixin ecl-footer-harmonised-group3(
  $bg-color: $ecl-color-grey-5,
  $text-color: $ecl-color-grey-75,
  $logo-height-xs: 2rem,
  $logo-height-lg: 2.5rem
) {
  .ecl-footer-harmonised--group3 {
    background-color: $bg-color;
    color: $text-color;
    // padding to handle margin below title
    padding-bottom: calc(#{$ecl-spacing-m} - #{$ecl-spacing-xs});
    padding-top: $ecl-spacing-m;

    .ecl-footer-harmonised__title {
      font: $ecl-font-prolonged-m;
    }

    .ecl-footer-harmonised__title,
    .ecl-footer-harmonised__title:hover,
    .ecl-footer-harmonised__title:active,
    .ecl-footer-harmonised__title:focus {
      color: $text-color;
    }

    .ecl-footer-harmonised__logo-list {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      list-style: none;
      margin: 0;
      padding-left: 0;
    }

    .ecl-footer-harmonised__logo-item {
      margin-bottom: $ecl-spacing-xs;
      margin-right: $ecl-spacing-s;
    }

    .ecl-footer-harmonised__logo-item:last-of-type {
      margin-right: 0;
    }

    .ecl-footer-harmonised__logo {
      height: $logo-height-xs;
    }

    .ecl-footer-harmonised__section1 {
      margin: 0;
    }

    .ecl-footer-harmonised__section2 {
      align-items: center;
      display: inline-flex;
      flex-wrap: wrap;
      margin-top: $ecl-spacing-xs;
    }
  }

  /* stylelint-disable-next-line order/order */
  @include ecl-media-breakpoint-up('md') {
    .ecl-footer-harmonised--group3 {
      .ecl-footer-harmonised__container {
        flex-direction: row;
      }

      .ecl-footer-harmonised__section1 {
        margin-bottom: $ecl-spacing-m;
      }

      .ecl-footer-harmonised__section2 {
        margin-left: $ecl-spacing-xl;
        margin-top: 0;
      }
    }
  }

  /* stylelint-disable-next-line order/order */
  @include ecl-media-breakpoint-up('lg') {
    .ecl-footer-harmonised--group3 {
      padding-bottom: $ecl-spacing-m;

      .ecl-footer-harmonised__logo-list {
        margin-bottom: 0;
      }

      .ecl-footer-harmonised__logo-item {
        margin-bottom: 0;
        margin-right: $ecl-spacing-l;
      }

      .ecl-footer-harmonised__logo {
        height: $logo-height-lg;
      }

      .ecl-footer-harmonised__section1 {
        margin-bottom: 0;
      }
    }
  }
}

// Use mixin
@include exports('ec-component-footer-harmonised') {
  @include ecl-footer-harmonised();
  @include ecl-footer-harmonised-group1();
  @include ecl-footer-harmonised-group2();
  @include ecl-footer-harmonised-group3();
}
