/**
 * EU navigation menus
 * @define navigation-menu
 */

 @import '@ecl/generic-component-navigation-menu/generic-component-navigation-menu';

 @include ecl-navigation-menu(
   $ecl-navigation-menu-bar-bg-mobile: map-get($ecl-colors, 'grey-15'),
   $ecl-navigation-menu-bar-bg-desktop: map-get($ecl-colors, 'grey-10'),
   $ecl-navigation-menu-toggle-btn-color: map-get($ecl-colors, 'blue-100'),
   $ecl-navigation-menu-group-bg: map-get($ecl-colors, 'grey-5'),
   $ecl-navigation-menu-separator-mobile: map-get($ecl-colors, 'grey-15'),
   $ecl-navigation-menu-link-color: map-get($ecl-colors, 'blue-100'),
   $ecl-navigation-menu-active-color: map-get($ecl-colors, 'blue-100'),
   $ecl-navigation-menu-active-bg: map-get($ecl-colors, 'grey-10')
 )

.ecl-navigation-menu__item--active {

  .ecl-navigation-menu__link[aria-expanded='true'] {
    border-bottom: 1px solid map-get($ecl-colors, 'grey-15');
  }

  > .ecl-navigation-menu__link::before {
    background-color: map-get($ecl-colors, 'blue-110');
    content: '';
    display: block;
    height: 100%;
    left: -($ecl-grid-gutter-width-base / 2);
    position: absolute;
    top: 0;
    width: map-get($ecl-spacing, 'xxxs');
  }
}

.ecl-navigation-menu__group::before {
  border-bottom: 1px solid map-get($ecl-colors, 'grey-15');
}

@include ecl-media-breakpoint-up(md) {
  .ecl-navigation-menu {
    border-bottom: 3px solid map-get($ecl-colors, 'grey-15');
  }

  .ecl-navigation-menu__link {
    border-bottom-width: 0;
  }

  .ecl-navigation-menu__item {
    margin-right: 3px;
  }

  .ecl-navigation-menu__item--active,
  .ecl-navigation-menu__root > .ecl-navigation-menu__item--active {
    background-color: map-get($ecl-colors, 'grey-5');
    margin-bottom: -3px;

    > .ecl-navigation-menu__link::before {
      display: none;
    }
  }

  .ecl-navigation-menu__item--active .ecl-navigation-menu__link {
    border-bottom-color: map-get($ecl-colors, 'blue-100');
    border-bottom-width: 3px;
  }

  .ecl-navigation-menu__group {
    margin-top: 3px;

    &::before {
      border-bottom: 3px solid map-get($ecl-colors, 'blue-100');
    }
  }

  .ecl-navigation-menu__link[aria-expanded='true'] {
    border-bottom: 3px solid map-get($ecl-colors, 'grey-5');
    margin-bottom: -3px;
  }

  .ecl-navigation-menu__item--active .ecl-navigation-menu__link[aria-expanded='true'] {
    border-bottom: 3px solid map-get($ecl-colors, 'grey-5');
    margin-bottom: 0;
  }
}
