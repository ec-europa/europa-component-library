/**
 * Form elements
 */

@use 'sass:map';

// Exposed variables
$theme: null !default;
$form-group: null !default;

.ecl-form-group {
  align-items: flex-start;
  border-width: 0;
  box-sizing: border-box;
  display: block;
  margin: 0;
  padding: 0;
}

.ecl-feedback-message {
  align-items: center;
  box-sizing: border-box;
  color: map.get($form-group, 'color-invalid');
  display: flex;
  font: map.get($form-group, 'font-invalid');
  margin: map.get($theme, 'spacing', '2xs') 0 map.get($theme, 'spacing', 'xs');
  padding: 0;
}

.ecl-feedback-message__icon {
  margin-inline-end: map.get($form-group, 'margin-icon');
}

.ecl-help-block {
  box-sizing: border-box;
  color: map.get($form-group, 'color-help');
  display: block;
  font: map.get($form-group, 'font-help');
  margin: 0 0 map.get($theme, 'spacing', 'xs');
  padding: 0;
}

.ecl-help-block ~ .ecl-feedback-message {
  margin-top: -#{map.get($theme, 'spacing', '2xs')};
}

.ecl-form-label {
  box-sizing: border-box;
  color: map.get($form-group, 'color-label');
  display: inline-flex;
  font: map.get($form-group, 'font-label');
  font-weight: map.get($form-group, 'font-weight-label');
  margin: 0;
  padding: 0;
  white-space: pre-wrap;
}

.ecl-form-label__required {
  color: map.get($form-group, 'color-required');
  font: map.get($theme, 'font', 'm');
  font-weight: map.get($theme, 'font-weight', 'bold');
  margin-inline-start: map.get($theme, 'spacing', '2xs');
}

.ecl-form-label__optional {
  align-self: center;
  color: map.get($form-group, 'color-optional');
  font: map.get($form-group, 'font-optional');
  font-style: map.get($form-group, 'font-style-optional');
  margin-left: map.get($theme, 'spacing', '2xs');
}

.ecl-form-label + {
  *:not(.ecl-help-block, .ecl-feedback-message) {
    margin-top: map.get($theme, 'spacing', '2xs');
  }

  .ecl-feedback-message {
    margin-top: 0;
  }
}
