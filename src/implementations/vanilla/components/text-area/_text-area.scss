/**
 * Textarea component
 * @define text-area
 */

@use 'sass:map';
@use '@ecl/vanilla-layout-grid/mixins/breakpoints';

// Exposed variables
$theme: null !default;
$textarea: null !default;

.ecl-text-area {
  appearance: none;
  background-color: map.get($theme, 'color', 'white-100');
  border: map.get($textarea, 'border-width') solid
    map.get($textarea, 'border-color');
  border-radius: map.get($textarea, 'border-radius');
  box-shadow: map.get($textarea, 'shadow');
  box-sizing: border-box;
  color: map.get($textarea, 'color-input');
  display: block;
  font: map.get($theme, 'font', 'm');
  margin: 0;
  max-width: 100%;
  padding: calc(
      #{map.get($textarea, 'padding-vertical')} - #{map.get(
          $textarea,
          'border-width'
        )}
    )
    calc(
      #{map.get($textarea, 'padding-horizontal')} - #{map.get(
          $textarea,
          'border-width'
        )}
    );

  &::placeholder {
    color: map.get($textarea, 'color-placeholder');
    font: map.get($theme, 'font', 'm');
    opacity: 1;
  }

  &:hover {
    border-color: map.get($textarea, 'border-color-hover');
    box-shadow: map.get($textarea, 'shadow-hover');
  }

  &:focus-visible,
  &:active {
    border-color: map.get($textarea, 'border-color-focus');
    border-width: map.get($textarea, 'border-width-focus');
    box-shadow: map.get($textarea, 'shadow-hover');
    outline: none;
    padding: calc(
        #{map.get($textarea, 'padding-vertical')} - #{map.get(
            $textarea,
            'border-width-focus'
          )}
      )
      calc(
        #{map.get($textarea, 'padding-horizontal')} - #{map.get(
            $textarea,
            'border-width-focus'
          )}
      );
  }
}

.ecl-text-area--s {
  width: 100%;

  @include breakpoints.up('m') {
    width: map.get($theme, 'form', 's');
  }
}

.ecl-text-area--m {
  width: 100%;

  @include breakpoints.up('m') {
    width: map.get($theme, 'form', 'm');
  }
}

.ecl-text-area--l {
  width: 100%;

  @include breakpoints.up('m') {
    width: map.get($theme, 'form', 'l');
  }
}

.ecl-text-area[disabled],
.ecl-text-area--disabled,
.ecl-text-area[readonly],
.ecl-text-area--readonly {
  background-color: map.get($textarea, 'background');
  border-color: rgba(map.get($textarea, 'border-color'), 0.5);
  box-shadow: map.get($textarea, 'shadow');
  cursor: not-allowed;

  &::placeholder {
    color: rgba(map.get($textarea, 'color-placeholder'), 0.5);
  }

  &:hover {
    border-color: rgba(map.get($textarea, 'border-color'), 0.5);
    box-shadow: map.get($textarea, 'shadow');
  }

  &:focus,
  &:active {
    border-color: rgba(map.get($textarea, 'border-color'), 0.5);
    border-width: map.get($textarea, 'border-width');
    padding: calc(
        #{map.get($textarea, 'padding-vertical')} - #{map.get(
            $textarea,
            'border-width'
          )}
      )
      calc(
        #{map.get($textarea, 'padding-horizontal')} - #{map.get(
            $textarea,
            'border-width'
          )}
      );
  }
}

.ecl-text-area--invalid {
  border-color: map.get($textarea, 'border-color-invalid');

  &:hover {
    border-color: map.get($textarea, 'border-color-invalid-hover');
  }

  &:active,
  &:focus-visible {
    border-color: map.get($textarea, 'border-color-focus');
  }
}
