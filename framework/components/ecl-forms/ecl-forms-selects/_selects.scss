/**
 * Select
 * @define select
 */

$ecl-select-background-width: 2.5rem;
$ecl-select-icon-width: map-get($ecl-font-size, 's');

// Select list arrow styling.
@mixin ecl-select-list-arrow($background-color, $arrow-grey:false) {
  @if ($arrow-grey) {
    background: url('../images/svg/arrow-down.svg'), linear-gradient(to bottom, $background-color, $background-color);
  }

  @else {
    background: url('../images/svg/arrow-down--white.svg'), linear-gradient(to bottom, $background-color, $background-color);
  }

  background-position: right ($ecl-select-background-width - $ecl-select-icon-width)/2 center, right;
  background-repeat: no-repeat;
  background-size: $ecl-select-icon-width 100%, $ecl-select-background-width 100%;
}

.ecl-select {
  appearance: none;
  background-color: #fff;
  background-image: none;
  border: 1px solid $ecl-color-shade;
  border-radius: 0;
  color: $ecl-color-shade;
  display: block;
  font-family: $ecl-font-family-sans-serif;
  font-size: map-get($ecl-font-size, 's');
  line-height: 1.6;
  margin: 0;
  padding: map-get($ecl-spacing, 'xxxs') ($ecl-select-background-width + map-get($ecl-spacing, 'xxxs')) map-get($ecl-spacing, 'xxxs') map-get($ecl-spacing, 'xxs');
  width: 100%;

  @include ecl-select-list-arrow($ecl-color-shade);

  &:not([disabled]):not([readonly]):hover {
    @include ecl-select-list-arrow($ecl-color-primary);

    border-color: $ecl-color-primary;
  }

  &:focus {
    border-color: map-get($ecl-colors, 'yellow-110');
    outline: 3px solid map-get($ecl-colors, 'yellow-110');
    outline-offset: 0;
    text-decoration: none;
  }

  &[disabled],
  &[readonly] {
    background-color: #eee;
    cursor: not-allowed;
    opacity: 1;
  }

  // Fix for IE 10+.
  &::-ms-expand {
    display: none;
  }
}

.ecl-select--has-error {
  border-color: $ecl-color-error;
  border-width: 2px;

  @include ecl-select-list-arrow($ecl-color-error);
}
