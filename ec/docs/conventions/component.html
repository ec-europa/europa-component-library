<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#034ea1">
    <meta name="msapplication-TileColor" content="#034ea1">
    <script>
    window.frctl = {
        env: 'static'
    };
    </script>
    <script>var cl = document.querySelector('html').classList; cl.remove('no-js'); cl.add('has-js');</script>
    <link rel="apple-touch-icon" sizes="144x144" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-144x144.png">
<meta name="msapplication-square70x70logo" content="../../themes/ecl-fractal-theme/img/favicon/mstile-70x70.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-120x120.png">
<meta name="msapplication-square150x150logo" content="../../themes/ecl-fractal-theme/img/favicon/mstile-150x150.png">
<link rel="apple-touch-icon" sizes="57x57" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-152x152.png">
<meta name="msapplication-square310x310logo" content="../../themes/ecl-fractal-theme/img/favicon/mstile-310x310.png">
<meta name="msapplication-wide310x150logo" content="../../themes/ecl-fractal-theme/img/favicon/mstile-310x150.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-114x114.png">
<meta name="msapplication-TileImage" content="../../themes/ecl-fractal-theme/img/favicon/mstile-144x144.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../themes/ecl-fractal-theme/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="../../themes/ecl-fractal-theme/img/favicon/android-chrome-192x192.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../themes/ecl-fractal-theme/img/favicon/apple-touch-icon-60x60.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../themes/ecl-fractal-theme/img/favicon/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../themes/ecl-fractal-theme/img/favicon/favicon-96x96.png">
<link rel="shortcut icon" href="../../themes/ecl-fractal-theme/favicon.ico" type="image/ico">

<link rel="stylesheet" href="../../themes/ecl-fractal-theme/css/fractal.css?cachebust=1.7.0" type="text/css">


<title>Components coding conventions | EC System</title>

</head>
<body class="ecl-typography language-en">
  <div class="ecl-skip-link__wrapper" id="skip-link">
  <a href="#main-content" class="ecl-skip-link">Skip to main content</a>
</div>

<header class="ecl-site-header" role="banner">
  <div class="ecl-site-switcher ecl-site-switcher--header">
    <div class="ecl-container">
      <ul class="ecl-site-switcher__list">
        <li class="ecl-site-switcher__option"><a class="ecl-link ecl-site-switcher__link" href="#">Commission and its priorities</a></li>
        <li class="ecl-site-switcher__option ecl-site-switcher__option--is-selected"><a class="ecl-link ecl-site-switcher__link" href="#">Policies, information and services</a></li>
      </ul>
    </div>
  </div>
  <div class="ecl-container ecl-site-header__banner">
    <a href="https://ec.europa.eu" class="ecl-logo ecl-logo--logotype ecl-site-header__logo" title="Home - European Commission">
      <span class="ecl-u-sr-only">Home - European Commission</span>
    </a>
    <div class="ecl-lang-select-sites ecl-site-header__lang-select-sites">
      <a href="#" class="ecl-lang-select-sites__link">
        <span class="ecl-lang-select-sites__label">English</span>
        <span class="ecl-lang-select-sites__code">
          <span class="ecl-icon ecl-icon--language ecl-lang-select-sites__icon"></span>
          <span class="ecl-lang-select-sites__code-text">en</span>
        </span>
      </a>
    </div>
    <form class="ecl-search-form ecl-site-header__search">
      <label class="ecl-search-form__textfield-wrapper">
        <span class="ecl-u-sr-only">Search this website</span>
        <input type="search" class="ecl-text-input ecl-search-form__textfield" id="search-components" name="search-components" />
        <script id="searchIndexPath" type="application/json">{ "path": "../../assets/searchIndex.json" }</script>
      </label>
      <button class="ecl-button ecl-button--form ecl-search-form__button" type="submit">Search</button>
    </form>
  </div>
</header>
<div class="ecl-page-header">
  <div class="ecl-container">
    <nav class="ecl-breadcrumb " aria-label="breadcrumb">
      <span class="ecl-u-sr-only">You are here:</span>
      <ol class="ecl-breadcrumb__segments-wrapper">
  <li class="ecl-breadcrumb__segment ecl-breadcrumb__segment--first">
    <a href="https://ec.europa.eu/commission/index_en" class="ecl-link ecl-link--inverted ecl-link--standalone ecl-breadcrumb__link">Home</a>
  </li>
  <li class="ecl-breadcrumb__segment ecl-breadcrumb__segment--last">
    <a href="https://ec-europa.github.io/europa-component-library/" class="ecl-link ecl-link--inverted ecl-link--standalone ecl-breadcrumb__link">Europa Component Library</a>
  </li>
  <li class="ecl-breadcrumb__segment ecl-breadcrumb__segment--last">
    <a href="https://ec-europa.github.io/europa-component-library/ec/" class="ecl-link ecl-link--inverted ecl-link--standalone ecl-breadcrumb__link">EC System</a>
  </li>
</ol>

    </nav>
    <div class="ecl-page-header__body">
      <div class="ecl-page-header__identity">
        EC System
      </div>
    </div>
  </div>
</div>

  <main>
    <a id="main-content" tabindex="-1"></a>
    
  <div class="ecl-container-fluid ecl-u-pl-md-none ecl-u-pl-lg-none ecl-u-pl-xl-none">
    <div class="ecl-row">
      <div class="ecl-col-12 ecl-col-md-4 ecl-col-xl-3">
        
<nav class="ecl-side-navigation" aria-label="Main Navigation">
  <button class="ecl-side-navigation__toggle ecl-side-navigation__hamburger ecl-side-navigation__hamburger--squeeze" aria-controls="side-menu-expandable-root" aria-expanded="false">
    <span class="ecl-side-navigation__hamburger-box">
      <span class="ecl-side-navigation__hamburger-inner"></span>
    </span>
    <span class="ecl-side-navigation__hamburger-label">Menu</span>
  </button>
  <ul class="ecl-side-navigation__root" id="side-menu-expandable-root" aria-hidden="true">
    
<li class="ecl-side-navigation__item">
  <a href="#item2" class="ecl-side-navigation__link ecl-expandable__button" aria-controls="nav-menu-expandable-group-3" aria-expanded="false" aria-haspopup="true">Documentation</a>
  <ul class="ecl-side-navigation__group ecl-side-navigation--depth-2" id="nav-menu-expandable-group-3" aria-hidden="true">
    
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../overview" class="ecl-side-navigation__link ">
            
            <span>Components</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../atomic" class="ecl-side-navigation__link ">
            
            <span>Atomic design patterns</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../javascript" class="ecl-side-navigation__link ">
            
            <span>JavaScript</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../documentation" class="ecl-side-navigation__link ">
            
            <span>Edit documentation</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../systems" class="ecl-side-navigation__link ">
            
            <span>Systems</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../presets" class="ecl-side-navigation__link ">
            
            <span>Presets</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../developers" class="ecl-side-navigation__link ">
            
            <span>Developers</span>
          </a>
        </li>
        
    
        
        <li class="ecl-side-navigation__item">
          <a href="#item2" class="ecl-side-navigation__link ecl-expandable__button" aria-controls="nav-menu-expandable-group-4" aria-expanded="false" aria-haspopup="true">Conventions</a>
          <ul class="ecl-side-navigation__group ecl-side-navigation--depth-3" id="nav-menu-expandable-group-4" aria-hidden="true">
            
            
            
            
    
        
        
        <li class="ecl-side-navigation__item"  data-state="current" data-role="item">
          <a href="" class="ecl-side-navigation__link  ecl-side-navigation__link--active">
            
            <span>Components</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="git" class="ecl-side-navigation__link ">
            
            <span>Git Commit</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="javascript" class="ecl-side-navigation__link ">
            
            <span>JavaScript</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="markdown" class="ecl-side-navigation__link ">
            
            <span>Markdown</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="scss" class="ecl-side-navigation__link ">
            
            <span>SCSS</span>
          </a>
        </li>
        
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="twig" class="ecl-side-navigation__link ">
            
            <span>Twig</span>
          </a>
        </li>
        
    

          </ul>
        </li>
        
    
        
        <li class="ecl-side-navigation__item">
          <a href="#item2" class="ecl-side-navigation__link ecl-expandable__button" aria-controls="nav-menu-expandable-group-4" aria-expanded="false" aria-haspopup="true">Testing</a>
          <ul class="ecl-side-navigation__group ecl-side-navigation--depth-3" id="nav-menu-expandable-group-4" aria-hidden="true">
            
            
            
            
    
        
        
        <li class="ecl-side-navigation__item"  data-role="item">
          <a href="../testing/visual" class="ecl-side-navigation__link ">
            
            <span>Visual regression</span>
          </a>
        </li>
        
    

          </ul>
        </li>
        
    

  </ul>
</li>

  </ul>
</nav>


      </div>
      <div class="page-content ecl-col-12 ecl-col-md-8 ecl-col-xl-9 ecl-u-mb-s">
        
<div class="ecl-u-mv-m">
  <div class="ecl-u-mb-s">
  
    <h1 class="ecl-heading ecl-heading--h1">Components coding conventions</h1>
    


    
  </div>
  

<div class="ecl-editor">



    
    
    <h2 id="general-rules">General rules</h2>
<p>Building components in a project with several systems means that first step in the construction of the component is the base of the component, i.e. the generic component containing common rules.</p>
<p>In a high-level way of thinking, the base should serve as an interface and systems’ components as specific implementations. Inheritance, though, should be achieved by composition and not by polymorphism.</p>
<p>That’s why the base should also be thought of, and managed as, a common layer of re-usable set of rules and guidelines.</p>
<p>All components should follow the same file structure and naming conventions.</p>
<p>If you are not familiar with the concept of systems in ECL, first have a look at <a href="../05-systems.md">the system documentation</a>.</p>
<h3 id="naming-of-components">Naming of components</h3>
<ul>
<li>Throughout the whole project, in <code>package.json</code> files, the namespace should always be <code>@ecl/</code>, regardless whether work is to be done on a generic or system component. One reason is that <code>@ecl</code> namespace should be preserved for correct organization on <a href="https://www.npmjs.com/">npmjs</a>.</li>
<li>Flavored components should be prefixed with the name of their corresponding system and type (component, style, template): <code>[generic|ec|eu]-[component|style|template|utility]</code>.</li>
</ul>
<p>Example:</p>
<code><pre><span class="hljs-comment">// Some full component name (in package.json)</span>
<span class="hljs-variable">@ecl</span>/ec-component-logo
<span class="hljs-variable">@ecl</span>/generic-component-navigation-menu
<span class="hljs-variable">@ecl</span>/eu-utility-flex

<span class="hljs-comment">// Corresponding component name (used for file name later)</span>
ec-component-logo
generic-component-navigation-menu
eu-utility-flex</pre></code><h3 id="structure-of-components">Structure of components</h3>
<p>Here are some examples of overall structure for components.
The different files will be detailed below.</p>
<p>Generic component <code>generic-component-navigation-menu</code>:</p>
<code class="lang-text"><pre><span class="hljs-bullet">.
</span>+-- data
|   +-- demo.js
+-- generic-component-navigation-menu.js
+-- generic-component-navigation-menu.scss
+-- generic-component-navigation-menu.twig
+-- package.json
<span class="hljs-section">+-- README.md
+--</span></pre></code><p>System component <code>ec-component-navigation-menu</code>:</p>
<code class="lang-text"><pre>.
+<span class="hljs-comment">-- .npmignore</span>
+<span class="hljs-comment">-- ec-component-navigation-menu.config.js</span>
+<span class="hljs-comment">-- ec-component-navigation-menu.js</span>
+<span class="hljs-comment">-- ec-component-navigation-menu.scss</span>
+<span class="hljs-comment">-- ec-component-navigation-menu.twig</span>
+<span class="hljs-comment">-- package.json</span>
+<span class="hljs-comment">-- README.md</span>
+<span class="hljs-comment">-- test</span>
|   +<span class="hljs-comment">-- spec</span>
    |   +<span class="hljs-comment">-- test-ec-component-navigation-menu.js</span>
+<span class="hljs-comment">--</span></pre></code><h2 id="scss">SCSS</h2>
<p>Apart from the <a href="scss.md">rules that should be applied to all SCSS files</a>, there are some specifications for components:</p>
<h3 id="generic-component">Generic component</h3>
<p>All CSS rules should be organized in mixins in order to make CSS rules easier to compose.</p>
<p>It could be split in several small mixins, but in any case we should have a main mixin calling the small ones.
This main mixin should be named following the component’s main class.</p>
<p>Example:
<em>(File name: generic-component-navigation-menu.scss)</em></p>
<code class="lang-scss"><pre>@<span class="hljs-keyword">mixin</span> ecl-navigation-menu-common() {
  <span class="hljs-comment">// Some CSS rules or mixin include</span>
}
@<span class="hljs-keyword">mixin</span> ecl-navigation-menu-responsive() {
  <span class="hljs-comment">// Some CSS rules</span>
}
@<span class="hljs-keyword">mixin</span> ecl-navigation-menu() {
  @<span class="hljs-keyword">include</span> ecl-navigation-menu-common();
  @<span class="hljs-keyword">include</span> ecl-navigation-menu-responsive();
}</pre></code><p>The CSS rules in generic components should not define any rules specific to a system (like color, background, …).</p>
<p>If the display is different in several systems, these differences should be put as parameters in the mixin. The goal here is to be able to call the same generic code, and just pass some parameters to alter display. There is no need to repeat the component’s name for these parameters, as they are limited to this mixin.</p>
<p>Example:
<em>(File name: generic-component-navigation-menu.scss)</em></p>
<code class="lang-scss"><pre>@<span class="hljs-keyword">mixin</span> ecl-navigation-menu(
  <span class="hljs-variable">$bar-bg-mobile</span>,
  <span class="hljs-variable">$bar-bg-desktop</span>,
  <span class="hljs-variable">$toggle-btn-color</span>,
  <span class="hljs-variable">$group-bg</span>,
  <span class="hljs-variable">$separator-mobile</span>,
  <span class="hljs-variable">$link-color</span>,
  <span class="hljs-variable">$active-color</span>,
  <span class="hljs-variable">$active-bg</span>
) {
  <span class="hljs-comment">// Some CSS rules or mixin include</span>
}</pre></code><h3 id="systems-component">Systems component</h3>
<p>The SCSS file in system-specific components relies on SCSS file defined in the corresponding generic component.</p>
<p>The flow of best practices in a system-specific SCSS file would look like the following:</p>
<h4 id="import-base-and-generic-mixins">Import base and generic mixins</h4>
<p>The file should import generic rules located in <code>@ecl/{system}-base</code>, and the ones of the generic component.</p>
<h4 id="check-dependencies-calls">Check dependencies calls</h4>
<p>If the component override some other components (like links, buttons, …), it should ensure that these dependencies have been loaded beforehand.
This is done by using the mixin <code>check-imports</code>.</p>
<h4 id="generic-mixin-use">Generic mixin use</h4>
<p>Call the mixin defined in the generic component with custom parameters.</p>
<h4 id="additional-css-rules">Additional CSS rules</h4>
<p>If needed, some extra CSS rules could be added after to customize the component.</p>
<p>Example:
<em>(File name: ec-component-navigation-menu.scss)</em></p>
<code class="lang-scss"><pre><span class="hljs-comment">// Import base and generic</span>
@<span class="hljs-keyword">import</span> <span class="hljs-string">'@ecl/ec-base/ec-base'</span>;
@<span class="hljs-keyword">import</span> <span class="hljs-string">'@ecl/generic-component-navigation-menu/generic-component-navigation-menu'</span>;

<span class="hljs-comment">// Check if overridden dependencies are already loaded, if needed</span>
@<span class="hljs-keyword">include</span> check-imports((<span class="hljs-string">'ec-component-link'</span>, <span class="hljs-string">'ec-component-button'</span>));

<span class="hljs-comment">// Use generic mixin</span>
@<span class="hljs-keyword">include</span> exports(<span class="hljs-string">'ec-component-navigation-menu'</span>) {
  @<span class="hljs-keyword">include</span> ecl-navigation-menu(
    <span class="hljs-variable">$bar-bg-mobile</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'grey-15'</span>),
    <span class="hljs-variable">$bar-bg-desktop</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'grey-10'</span>),
    <span class="hljs-variable">$toggle-btn-color</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'blue-100'</span>),
    <span class="hljs-variable">$group-bg</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'grey-5'</span>),
    <span class="hljs-variable">$separator-mobile</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'grey-15'</span>),
    <span class="hljs-variable">$link-color</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'blue-100'</span>),
    <span class="hljs-variable">$active-color</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'blue-100'</span>),
    <span class="hljs-variable">$active-bg</span>: map-get(<span class="hljs-variable">$ecl-colors</span>, <span class="hljs-string">'grey-10'</span>)
  );

  <span class="hljs-comment">// Add custom rules</span>
  <span class="hljs-selector-class">.ecl-navigation-menu__item--active</span> {
    <span class="hljs-selector-attr">[...]</span>
  }
  <span class="hljs-selector-class">.ecl-navigation-menu__group</span>::before {
    <span class="hljs-selector-attr">[...]</span>
  }
}</pre></code><h2 id="twig">Twig</h2>
<p>Every component should have a directly usable Twig file. The goal is to be able to include the code in other components or templates by putting most of the content in context, without having to duplicate it.</p>
<p>Apart from the <a href="twig.md">rules that should be applied to all Twig files</a>, there are some specifications for components:</p>
<h3 id="generic-component">Generic component</h3>
<p>A generic component Twig file defines all the markup for the component. It should contain all the logic required to use the component, as it is intended to be used by systems components (or anything based on Twig).</p>
<p>This Twig file consists of different sections (see link above for more details):</p>
<ul>
<li>Parameters/Blocks: list of exposed parameters and blocks</li>
<li>Internal properties: definition of custom variables</li>
<li>Internal logic: preprocess and other custom logic</li>
<li>Print: HTML markup</li>
</ul>
<p>Example:
<em>(File name: generic-component-blockquote.twig)</em></p>
<code class="lang-twig"><pre><span class="xml"></span><span class="hljs-comment">{#
  Parameters:
    - "body" (string) (default: '')
    - "author" (string) (default: '')
    - "extra_classes" (string) (default: '')
    - "extra_attributes" (array) (default: []): format: [{ 'name': 'name_of_the_attribute', 'value': 'value_of_the_attribute'}])
#}</span><span class="xml">

</span><span class="hljs-comment">{# Internal properties #}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> _body = body|<span class="hljs-keyword">default</span>('') %}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> _author = author|<span class="hljs-keyword">default</span>('') %}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> _css_class = 'ecl-blockquote' %}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> _extra_attributes = '' %}</span><span class="xml">

</span><span class="hljs-comment">{# Internal logic - Process properties #}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">if</span></span> extra_classes is defined %}</span><span class="xml">
  </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> _css_class = _css_class ~ ' ' ~ extra_classes %}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endif</span></span> %}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">if</span></span> extra_attributes is defined %}</span><span class="xml">
  </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">for</span></span> attr in extra_attributes %}</span><span class="xml">
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">set</span></span> _extra_attributes = _extra_attributes ~ ' ' ~ attr.name ~ '="' ~ attr.value ~'"' %}</span><span class="xml">
  </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endfor</span></span> %}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endif</span></span> %}</span><span class="xml">

</span><span class="hljs-comment">{# Print the result  #}</span><span class="xml">

<span class="hljs-tag">&lt;<span class="hljs-name">blockquote</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"{\{ _css_class }}"</span>{\{ <span class="hljs-attr">_extra_attributes</span>|<span class="hljs-attr">raw</span> }}&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ecl-paragraph ecl-blockquote__body"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">if</span></span> _author is not empty %}</span><span class="xml">
  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ecl-blockquote__author"</span>&gt;</span>―&amp;thinsp;<span class="hljs-tag">&lt;<span class="hljs-name">cite</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cite</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
  </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endif</span></span> %}</span><span class="xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">blockquote</span>&gt;</span></span></pre></code><h3 id="systems-component">Systems component</h3>
<p>There are 2 possibilities for system-specific components: they use the exact same markup as their corresponding generic/base component, or they alter it.</p>
<p>In both cases, <strong>Twig files should always start with the available parameters</strong>.</p>
<h4 id="same-markup">Same markup</h4>
<p>This is the easy case: the system component just has to include the generic Twig file.</p>
<p>Example:
<em>(File name: ec-component-blockquote.twig)</em></p>
<code class="lang-twig"><pre><span class="xml"></span><span class="hljs-comment">{#
  Parameters:
    - "body" (string) (default: '')
    - "author" (string) (default: '')
    - "extra_classes" (string) (default: '')
    - "extra_attributes" (array) (default: ''): format: [{ 'name': 'name_of_the_attribute', 'value': 'value_of_the_attribute'}])
#}</span><span class="xml">

</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">include</span></span> '@ecl/generic-component-blockquote' %}</span><span class="xml"></span></pre></code><h4 id="different-markup">Different markup</h4>
<p>As soon as there is a difference in markup (even a small one), the specific component has to provide the whole markup (instead of using generic one).
The structure is the same as for the generic Twig file.</p>
<p>As we lose the advantage of generic components here, it is recommended, when possible, to keep the exact same markup for different systems.</p>
<h2 id="javascript">JavaScript</h2>
<p>Not all components require a dedicated JavaScript file. Most of them have a simple enough behavior that could be handled with HTML/CSS only. The following rules only apply to components with more complex (JS) behavior.</p>
<p>Apart from <a href="javascript.md">rules that should be applied to all JS files</a>, there are some specifications for components:</p>
<h3 id="generic-component">Generic component</h3>
<p>Generic components should export a function, so that the complex JavaScript behavior is available in the system components.
This function should have an explicit name, based on component name, and an action verb (generally “Init”). It should also use camel case.</p>
<p>Example:
<em>(File name: generic-component-navigation-menu.js)</em></p>
<code><pre><span class="hljs-builtin-name">export</span> const initNavigationMenu = ({ [<span class="hljs-built_in">..</span>.] } = {}) =&gt; {
  [<span class="hljs-built_in">..</span>.]
}

<span class="hljs-builtin-name">export</span><span class="hljs-built_in"> default </span>initNavigationMenu;</pre></code><h3 id="systems-component">Systems component</h3>
<p>As for Twig files, there are 2 cases here: the system component has the same behavior as the corresponding generic component, or behaviors are different.</p>
<h4 id="same-behavior">Same behavior</h4>
<p>In this case, system components should use exported function from corresponding generic component.</p>
<p>Example:
<em>(File name: ec-component-navigation-menu.js)</em></p>
<code><pre><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'@ecl/generic-component-navigation-menu'</span>;</pre></code><h4 id="different-behavior">Different behavior</h4>
<p>If we can’t reuse the behavior from the generic component as is, the specific component has to provide the whole javascript (instead of using generic one).
This is the same structure as in the generic Twig file.</p>
<p>As we lose the advantage of generic components here, it is recommended, when possible, to keep the exact same behavior for different systems.</p>
<h2 id="context">Context</h2>
<p>All dynamic data of component should be put in context, and not hardcoded in Twig or JS files.
This will allow easy customization of components.</p>
<p>In most cases, the context is defined in the generic component and used in corresponding system component.</p>
<p>Generic context files should be placed in a <code>data</code> folder, inside component’s folder.</p>
<ul>
<li>If there is only one variant for the component, the file should be named following component’s name.</li>
<li>If there are multiple variants, a file should be created for each variant, using the component’s name and the variant.</li>
</ul>
<p>Example - single variant:
<em>(File name: data/demo.js)</em></p>
<code class="lang-js"><pre><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">menu_label</span>: <span class="hljs-string">'Menu'</span>,
  <span class="hljs-attr">menu_aria_label</span>: <span class="hljs-string">'Main Navigation'</span>,
  <span class="hljs-attr">links</span>: [
    { [...] },
    { [...] }
  ],
  <span class="hljs-attr">_demo</span>: {
    <span class="hljs-attr">scripts</span>: [...],
  },
};</pre></code><p>Example - multiple variants:
<em>(File name: data/demo–hero.js)</em></p>
<code class="lang-js"><pre><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'hero'</span>,
  <span class="hljs-attr">image</span>: <span class="hljs-string">'picture.jpg'</span>,
  <span class="hljs-attr">title</span>: <span class="hljs-string">'Lorem ipsum ...'</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">'Lorem ipsum ...'</span>,
};</pre></code><p><em>(File name: data/demo–video.js)</em></p>
<code class="lang-js"><pre><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'video'</span>,
  <span class="hljs-attr">video</span>: {
    <span class="hljs-attr">src</span>: <span class="hljs-string">'https://ec.europa.eu/avservices/play.cfm?ref=I101631'</span>,
    <span class="hljs-attr">is_iframe</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">ratio</span>: <span class="hljs-string">'16-9'</span>,
    <span class="hljs-attr">caption</span>: <span class="hljs-string">'Lorem ipsum ...'</span>,
  },
  <span class="hljs-attr">description</span>: Lorem ipsum ...,
};</pre></code><h3 id="specific-case-links">Specific case: links</h3>
<p>If the component contains links, they should always lead to an internal example page instead of blank link (<code>#</code>) or external links.</p>
<p>Example:</p>
<code><pre>..<span class="hljs-regexp">/../</span>example.html<span class="hljs-comment">#{component_name}</span></pre></code><h2 id="fractal-config-file">Fractal config file</h2>
<p>A Fractal config file should be created for every system-specific component (not for generic components). These files should use the generic context files and add missing information.
If the context is different for a specific system, it may be altered or overriden.</p>
<p>The filename should follow the component’s name</p>
<p>Example:
<em>(File name: ec-component-banner.config.js)</em></p>
<code class="lang-js"><pre><span class="hljs-comment">// Load context from the generic component</span>
<span class="hljs-keyword">const</span> hero = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@ecl/generic-component-banner/data/demo--hero'</span>);
<span class="hljs-keyword">const</span> video = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@ecl/generic-component-banner/data/demo--video'</span>);

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">'Banners'</span>,
  <span class="hljs-attr">label</span>: <span class="hljs-string">'Banners'</span>,
  <span class="hljs-attr">status</span>: <span class="hljs-string">'ready'</span>,
  <span class="hljs-attr">tags</span>: [<span class="hljs-string">'molecule'</span>],
  <span class="hljs-attr">variants</span>: [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'hero'</span>,
      <span class="hljs-attr">context</span>: hero,
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'video'</span>,
      <span class="hljs-attr">context</span>: video,
    },
  ],
  <span class="hljs-attr">default</span>: <span class="hljs-string">'hero'</span>,
};</pre></code><h2 id="package-json">package.json</h2>
<p><code>package.json</code> files are needed for both generic and system components, and should include dependencies related to the component.</p>
<p>All components have to specify a dependency to the corresponding base (<code>generic-base</code>, <code>ec-base</code>, …).</p>
<p>The only extra rule for system components’ package.json is that it should have the generic component as a dependency.</p>
<p>SCSS and JS files (if any) should be set in corresponding attributes:</p>
<ul>
<li><code>sass</code> (SCSS): the path to SCSS file. Higher priority than ‘style’</li>
<li><code>style</code> (CSS): the path to the main bundled stylesheet (dist/[name].css)</li>
<li><code>main</code> (JS): the path to JS file. Used by non ES6-aware tools (UMD) (dist/[name].js)</li>
<li><code>module</code> (JS): the path to JS file. Used by ES6-aware tools like webpack</li>
</ul>
<p>Example (generic):</p>
<code><pre>{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@ecl/generic-component-navigation-menu"</span>,
  <span class="hljs-string">"author"</span>: <span class="hljs-string">"European Commission"</span>,
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"EUPL-1.1"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.0.1"</span>,
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"ECL Navigation Menu"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"generic-component-navigation-menu.js"</span>,
  <span class="hljs-string">"module"</span>: <span class="hljs-string">"generic-component-navigation-menu.js"</span>,
  <span class="hljs-string">"style"</span>: <span class="hljs-string">"generic-component-navigation-menu.scss"</span>,
  <span class="hljs-string">"sass"</span>: <span class="hljs-string">"generic-component-navigation-menu.scss"</span>,
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"@ecl/generic-base"</span>: <span class="hljs-string">"^0.0.1"</span>,
    [...]
  },
  <span class="hljs-string">"publishConfig"</span>: { <span class="hljs-string">"access"</span>: <span class="hljs-string">"public"</span> },
  <span class="hljs-string">"repository"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"git+https://github.com/ec-europa/europa-component-library.git"</span>
  },
  <span class="hljs-string">"bugs"</span>: {
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://github.com/ec-europa/europa-component-library/issues"</span>
  },
  <span class="hljs-string">"homepage"</span>: <span class="hljs-string">"https://github.com/ec-europa/europa-component-library"</span>,
  <span class="hljs-string">"keywords"</span>: [<span class="hljs-string">"ecl"</span>, <span class="hljs-string">"europa-component-library"</span>, <span class="hljs-string">"design-system"</span>]
}</pre></code><p>Example (system):</p>
<code><pre>{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@ecl/eu-component-navigation-menu"</span>,
  <span class="hljs-string">"author"</span>: <span class="hljs-string">"European Commission"</span>,
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"EUPL-1.1"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.0.1"</span>,
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"ECL Navigation Menu"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"eu-component-navigation-menu.js"</span>,
  <span class="hljs-string">"module"</span>: <span class="hljs-string">"eu-component-navigation-menu.js"</span>,
  <span class="hljs-string">"style"</span>: <span class="hljs-string">"eu-component-navigation-menu.scss"</span>,
  <span class="hljs-string">"sass"</span>: <span class="hljs-string">"eu-component-navigation-menu.scss"</span>,
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"@ecl/eu-base"</span>: <span class="hljs-string">"^0.0.1"</span>,
    [...]
    <span class="hljs-string">"@ecl/generic-component-navigation-menu"</span>: <span class="hljs-string">"^0.0.1"</span>
  },
  <span class="hljs-string">"publishConfig"</span>: { <span class="hljs-string">"access"</span>: <span class="hljs-string">"public"</span> },
  <span class="hljs-string">"repository"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"git+https://github.com/ec-europa/europa-component-library.git"</span>
  },
  <span class="hljs-string">"bugs"</span>: {
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://github.com/ec-europa/europa-component-library/issues"</span>
  },
  <span class="hljs-string">"homepage"</span>: <span class="hljs-string">"https://github.com/ec-europa/europa-component-library"</span>,
  <span class="hljs-string">"keywords"</span>: [<span class="hljs-string">"ecl"</span>, <span class="hljs-string">"europa-component-library"</span>, <span class="hljs-string">"design-system"</span>]
}</pre></code><h2 id="tests">Tests</h2>
<p>We rely on automated tests to ensure non regression and accessibility compliance of components.
Full explanation concerning test files can be found in the <a href="../testing/visual.md">dedicated documentation</a></p>
<p><strong>All system components have to provide test.</strong>
Generic components should not contain test (as they are not intended to be used as is).</p>
<h2 id="other-assets">Other assets</h2>
<p>If a component rely on other assets (images, fonts, …), they should be placed in a folder inside the component.</p>
<h2 id="exception-components-existing-in-only-one-system">Exception: components existing in only one system</h2>
<p>If a component exists only in one system, it can be defined in the system only. This means that there is no need to create a generic component, and files in system component should contain all the code/logic needed for the component.</p>
<p>As soon as the component should be available in another system, a generic component has to be created, and the logic refactored as explained ahead.</p>

    


</div>


</div>

      </div>
    </div>
  </div>

  </main>
  <footer class="ecl-footer">
  <div class="ecl-footer__custom">
    <div class="ecl-container">
      <div class="ecl-row">
        <div class="ecl-col-sm ecl-footer__column">
          <h4 class="ecl-heading ecl-heading--h4 ecl-u-mt-xxxs ecl-u-mb-none ecl-footer__custom-title ecl-footer__custom-title-identity">
  Europa Component Library
</h4>

        </div>
        <div class="ecl-col-sm ecl-footer__column">
          <p class="ecl-footer__custom-label">Follow us:</p>
          <ul class="ecl-list ecl-list--unstyled ecl-list--inline ecl-footer__list ecl-footer__list--inline ecl-footer__social-links ecl-u-d-inline">
            <li class="ecl-footer__list-item">
              <a class="ecl-link ecl-footer__link ecl-link--external" href="https://github.com/ec-europa/europa-component-library">GitHub</a>
            </li>
          </ul>
        </div>
        <div class="ecl-col-sm ecl-footer__column">
          <ul class="ecl-list ecl-list--unstyled ecl-footer__list">
            <li class="ecl-footer__list-item">
  <a class="ecl-link ecl-footer__link" href="https://ec-europa.github.io/europa-component-library/ec/docs/overview">Documentation</a>
</li>

          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="ecl-footer__corporate">
    <div class="ecl-footer__corporate-top">
      <div class="ecl-container">
        <div class="ecl-row">
          <div class="ecl-col-sm ecl-footer__column">
            <h4 class="ecl-h4 ecl-footer__column-title">European Commission</h4>
            <ul class="ecl-list ecl-list--unstyled ecl-footer__list">
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="https://ec.europa.eu/commission/index_en">Commission and its priorities</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="https://ec.europa.eu/info/index_en">Policies, information and services</a>
              </li>
            </ul>
          </div>
          <div class="ecl-col-sm ecl-footer__column">
            <h4 class="ecl-h4 ecl-footer__column-title">Follow the European Commission</h4>
            <ul class="ecl-list ecl-list--unstyled ecl-list--inline ecl-footer__list ecl-footer__list--inline  ecl-footer__social-links">
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="#"><span class="ecl-icon ecl-icon--facebook ecl-footer__social-icon"></span>Facebook</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="#"><span class="ecl-icon ecl-icon--twitter ecl-footer__social-icon"></span>Twitter</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-link--external ecl-footer__link" href="#">Other social media</a>
              </li>
            </ul>
          </div>
          <div class="ecl-col-sm ecl-footer__column">
            <h4 class="ecl-h4 ecl-footer__column-title">European Union</h4>
            <ul class="ecl-list ecl-list--unstyled ecl-footer__list">
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-link--external ecl-footer__link" href="#">EU institutions</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-link--external ecl-footer__link" href="#">European Union</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="ecl-footer__corporate-bottom">
      <div class="ecl-container">
        <div class="ecl-row">
          <div class="ecl-col-sm ">
            <ul class="ecl-list ecl-list--unstyled ecl-list--inline ecl-footer__list ecl-footer__list--inline">
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="http://ec.europa.eu/info/about-commissions-new-web-presence_en">About the Commission's new web presence</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="https://ec.europa.eu/info/language-policy_en">Language policy</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="http://ec.europa.eu/info/resources-partners_en">Resources for partners</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="http://ec.europa.eu/info/cookies_en">Cookies</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="https://ec.europa.eu/info/privacy-policy_en">Privacy policy</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="http://ec.europa.eu/info/legal-notice_en">Legal notice</a>
              </li>
              <li class="ecl-footer__list-item">
                <a class="ecl-link ecl-link--inverted ecl-footer__link" href="http://ec.europa.eu/info/contact_en">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="../../themes/ecl-fractal-theme/js/jquery.min.js?cachebust=1.7.0"></script>

<script src="../../themes/ecl-fractal-theme/js/jquery-resizable.min.js?cachebust=1.7.0"></script>

<script src="../../themes/ecl-fractal-theme/js/select2.min.js?cachebust=1.7.0"></script>

<script src="../../themes/ecl-fractal-theme/js/ecl-fractal-theme.js?cachebust=1.7.0"></script>



</body>
</html>
