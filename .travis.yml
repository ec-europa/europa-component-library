language: node_js
node_js:
  - "7"

cache:
  apt: true
  yarn: true
  directories:
    - node_modules

before_script:
  - npm install -g s3-website
after_success:
  # AWS_ACCESS_Id and AWS_ACCESS_KEY are set in the travis repo settings as they are private-private!
  - 'AWS_ACCESS_ID=$AWS_ACCESS_ID AWS_ACCESS_KEY=$AWS_ACCESS_KEY npm run create-preview'
